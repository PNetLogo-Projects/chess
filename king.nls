to king-mark-valid-move-spots
  let my-color color
  let always-mark? true
  ask turtles with [color != my-color]
  [pieces-mark-valid-captures always-mark?]
  
  let valid-move-spots neighbors with [not marked? and not any? turtles-here with [color = my-color]]
  reset-marks

  ask valid-move-spots
  [set marked? true]
end

to king-mark-valid-capture-spots [always-mark?]
  ifelse always-mark?
  [
    ask neighbors
    [set marked? true]
  ]
  [king-mark-valid-move-spots]
end